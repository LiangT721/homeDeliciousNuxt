{"version":3,"file":"components/setting-page-password-modify.js","sources":["webpack:///./components/settingPage/passwordModify.vue?abb6","webpack:///./components/settingPage/passwordModify.vue","webpack:///./components/settingPage/passwordModify.vue?a792","webpack:///./components/settingPage/passwordModify.vue?78dc"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative\"},[_vm._ssrNode(\"<p class=\\\"capitalize mt-3\\\" data-v-5ac4f278>\"+((this.$store.getters.lan)?(\"<span data-v-5ac4f278>请输入原有密码:</span>\"):(\"<span data-v-5ac4f278>Please input old password:</span>\"))+\"</p> <input type=\\\"password\\\"\"+(_vm._ssrAttr(\"value\",(_vm.oldPassword)))+\" class=\\\"input-area\\\" data-v-5ac4f278> <p class=\\\"capitalize mt-3\\\" data-v-5ac4f278>\"+((this.$store.getters.lan)?(\"<span data-v-5ac4f278>请输入新密码:</span>\"):(\"<span data-v-5ac4f278>Please input new password:</span>\"))+\"</p> <input type=\\\"password\\\"\"+(_vm._ssrAttr(\"value\",(_vm.confirmPassword)))+\" class=\\\"input-area\\\" data-v-5ac4f278> <p class=\\\"capitalize mt-3\\\" data-v-5ac4f278>\"+((this.$store.getters.lan)?(\"<span data-v-5ac4f278>请再次输入新密码:</span>\"):(\"<span data-v-5ac4f278>Please re-input new password:</span>\"))+\"</p> <input type=\\\"password\\\"\"+(_vm._ssrAttr(\"value\",(_vm.newPassword)))+\" class=\\\"input-area\\\" data-v-5ac4f278> <div data-v-5ac4f278><button class=\\\"button mt-10\\\" data-v-5ac4f278>update</button> <button class=\\\"button mt-10\\\" data-v-5ac4f278>back</button></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport cookies from 'vue-cookies';\r\nexport default {\r\n  data() {\r\n    return {\r\n      oldPassword: \"\",\r\n      newPassword: \"\",\r\n      confirmPassword: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    back() {\r\n       console.log('back')\r\n       this.$emit('finish','menu')     \r\n    },\r\n    async passwordChange() {\r\n      if (this.newPassword == this.confirmPassword) {\r\n          await this.$axios({\r\n              url:'/api/users',\r\n              method:'patch',\r\n              data: {\r\n                  token: cookies.get('token'),\r\n                  old_password: this.oldPassword,\r\n                  password: this.newPassword,\r\n              }\r\n          }).then((res)=> {\r\n              console.log(res.data);\r\n              cookies.remove('user');\r\n              cookies.remove('token');\r\n              this.$emit('finish','menu')\r\n              this.$router.push('/login/')\r\n          }).catch((res)=>{\r\n              alert(res);\r\n\r\n          })\r\n\r\n      } else {\r\n        if (this.$store.getters.lan) {\r\n          alert(\"您两次输入的密码不符！\");\r\n        } else {\r\n          alert(\"The passwords you entered do not match\");\r\n        }\r\n        this.newPassword = this.confirmPassword = this.oldPassword = '';\r\n      }\r\n    },\r\n  },\r\n};\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./passwordModify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./passwordModify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./passwordModify.vue?vue&type=template&id=5ac4f278&scoped=true&\"\nimport script from \"./passwordModify.vue?vue&type=script&lang=js&\"\nexport * from \"./passwordModify.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"5ac4f278\",\n  \"0f2a1b0a\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAnCA;AARA;;AC1BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}