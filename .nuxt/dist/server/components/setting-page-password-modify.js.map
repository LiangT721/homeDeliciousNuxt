{"version":3,"file":"components/setting-page-password-modify.js","sources":["webpack:///./components/settingPage/passwordModify.vue?abb6","webpack:///./components/settingPage/passwordModify.vue","webpack:///./components/settingPage/passwordModify.vue?a792","webpack:///./components/settingPage/passwordModify.vue?78dc"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative\"},[_vm._ssrNode(\"<p class=\\\"capitalize mt-3\\\" data-v-5ac4f278>\"+((this.$store.getters.lan)?(\"<span data-v-5ac4f278>请输入原有密码:</span>\"):(\"<span data-v-5ac4f278>Please input old password:</span>\"))+\"</p> <input type=\\\"password\\\"\"+(_vm._ssrAttr(\"value\",(_vm.oldPassword)))+\" class=\\\"input-area\\\" data-v-5ac4f278> <p class=\\\"capitalize mt-3\\\" data-v-5ac4f278>\"+((this.$store.getters.lan)?(\"<span data-v-5ac4f278>请输入新密码:</span>\"):(\"<span data-v-5ac4f278>Please input new password:</span>\"))+\"</p> <input type=\\\"password\\\"\"+(_vm._ssrAttr(\"value\",(_vm.confirmPassword)))+\" class=\\\"input-area\\\" data-v-5ac4f278> <p class=\\\"capitalize mt-3\\\" data-v-5ac4f278>\"+((this.$store.getters.lan)?(\"<span data-v-5ac4f278>请再次输入新密码:</span>\"):(\"<span data-v-5ac4f278>Please re-input new password:</span>\"))+\"</p> <input type=\\\"password\\\"\"+(_vm._ssrAttr(\"value\",(_vm.newPassword)))+\" class=\\\"input-area\\\" data-v-5ac4f278> <div data-v-5ac4f278><button class=\\\"button mt-10\\\" data-v-5ac4f278>update</button> <button class=\\\"button mt-10\\\" data-v-5ac4f278>back</button></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport cookies from 'vue-cookies';\nexport default {\n  data() {\n    return {\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n    };\n  },\n  methods: {\n    back() {\n       console.log('back')\n       this.$emit('finish','menu')     \n    },\n    async passwordChange() {\n      if (this.newPassword == this.confirmPassword) {\n          await this.$axios({\n              url:'/api/users',\n              method:'patch',\n              data: {\n                  token: cookies.get('token'),\n                  old_password: this.oldPassword,\n                  password: this.newPassword,\n              }\n          }).then((res)=> {\n              console.log(res.data);\n              cookies.remove('user');\n              cookies.remove('token');\n              this.$emit('finish','menu')\n              this.$router.push('/login/')\n          }).catch((res)=>{\n              alert(res);\n\n          })\n\n      } else {\n        if (this.$store.getters.lan) {\n          alert(\"您两次输入的密码不符！\");\n        } else {\n          alert(\"The passwords you entered do not match\");\n        }\n        this.newPassword = this.confirmPassword = this.oldPassword = '';\n      }\n    },\n  },\n};\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./passwordModify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./passwordModify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./passwordModify.vue?vue&type=template&id=5ac4f278&scoped=true&\"\nimport script from \"./passwordModify.vue?vue&type=script&lang=js&\"\nexport * from \"./passwordModify.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"5ac4f278\",\n  \"d0b5e778\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAnCA;AARA;;AC1BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}