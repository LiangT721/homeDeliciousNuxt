(window.webpackJsonp=window.webpackJsonp||[]).push([[46,15,23,24,25,26,27],{356:function(t,e,r){"use strict";r.r(e);var n=r(44),o=r.n(n),c={computed:{iconPath:function(){return this.$store.state.user.icon}},mounted:function(){o.a.get("user")&&this.$store.commit("setUser",o.a.get("user"))}},l=r(42),component=Object(l.a)(c,(function(){var t=this,e=this,r=e.$createElement,n=e._self._c||r;return n("div",[n("img",{staticClass:"icon-title",attrs:{src:e.iconPath,alt:""},on:{click:function(){t.$router.push("/setting")}}})])}),[],!1,null,"5a7d5e23",null);e.default=component.exports},362:function(t,e,r){t.exports=r.p+"img/logo-C.285d67b.png"},363:function(t,e,r){"use strict";r.r(e);var n=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid"},[n("div",{staticClass:"title text-2xl font-title items-center text-center"},[n("img",{staticClass:"h-8 inline -mt-2",attrs:{src:r(362),alt:""}}),t._v(" "),n("span",{staticClass:"text-fontColorlight items-end"},[t._v("Home Delicious")])]),t._v(" "),n("div",{staticClass:"slogen font-bold text-xl font-fonts text-center"},[n("span",{staticClass:"mr-5"},[t._v("Trending")]),t._v(" "),n("span",{staticClass:"text-fontColorlight"},[t._v("Food")])])])}],o={},c=r(42),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),n,!1,null,"f49e63cc",null);e.default=component.exports},365:function(t,e,r){r(366)},366:function(t,e,r){"use strict";var n=r(2),o=r(18),c=r(99),l=r(100),h=r(213),f=r(3),d=r(24),v=f("replace"),m=RegExp.prototype,C=Math.max,_=function(t,e,r){return r>t.length?-1:""===e?r:t.indexOf(e,r)};n({target:"String",proto:!0},{replaceAll:function(t,e){var r,n,f,w,x,k,$,y,O=o(this),S=0,j=0,L="";if(null!=t){if((r=c(t))&&!~String(o("flags"in m?t.flags:l.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=t[v]))return n.call(t,O,e);if(d&&r)return String(O).replace(t,e)}for(f=String(O),w=String(t),(x="function"==typeof e)||(e=String(e)),k=w.length,$=C(1,k),S=_(f,w,0);-1!==S;)y=x?String(e(w,S,f)):h(w,f,S,[],void 0,e),L+=f.slice(j,S)+y,j=S+k,S=_(f,w,S+$);return j<f.length&&(L+=f.slice(j)),L}})},367:function(t,e,r){"use strict";r.r(e);var n=r(6),o=(r(55),r(134),r(365),r(68),r(69),r(43),r(44)),c=r.n(o),l=r(363),h=r(356),f={components:{logo:l.default,UserIcon:h.default},data:function(){return{home:"button_select",user:"",collection:"",share:"",search:"",select:"button_select",unSelect:""}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.params,r;case 2:case"end":return e.stop()}}),e)})))()},methods:{toPath:function(data){this.$router.push(data)},confirmLogin:function(){1==confirm("Please login your account.")&&this.$router.push("/login")},toProduction:function(){if(c.a.get("user")){var t=c.a.get("user").user_id;t&&(this.$store.commit("userPage_shift",!0),this.$router.push("/user/".concat(t)),this.user=this.select,this.home=this.collection=this.share=this.search=this.unSelect)}else this.confirmLogin()},toCollection:function(){if(c.a.get("user")){var t=c.a.get("user").user_id;t&&(this.$store.commit("userPage_shift",!1),this.$router.push("/user/".concat(t)),this.collection=this.select,this.home=this.user=this.share=this.search=this.unSelect)}else this.confirmLogin()},sharePage:function(){c.a.get("user")?this.$router.push("/share"):this.confirmLogin()},logout:function(){c.a.remove("token"),c.a.remove("user"),this.$router.push("/login")}},computed:{userInfo:function(){return c.a.get("user")}},mounted:function(){var path=this.$route.path.replaceAll("/","");""==path&&(this.home=this.select,this.user=this.collection=this.share=this.search=this.unSelect),path.includes("user")&&(this.$store.state.userPageToggle?(this.user=this.select,this.home=this.collection=this.share=this.search=this.unSelect):(this.collection=this.select,this.home=this.user=this.share=this.search=this.unSelect)),"share"==path&&(this.share=this.select,this.user=this.collection=this.home=this.search=this.unSelect),path.includes("search")&&(this.search=this.select,this.user=this.collection=this.share=this.home=this.unSelect)}},d=r(42),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"menu-bar-md h-screen w-full sticky top-0 py-20"},[r("logo"),t._v(" "),r("div",{staticClass:"w-full h-20 my-10 flex justify-center"},[r("user-icon",{staticClass:"h-full"})],1),t._v(" "),r("div",{staticClass:"btn w-1/3 mx-auto grid gap-y-5 text-center"},[r("div",{staticClass:"side-bar-btn",class:t.home,on:{click:function(e){return t.toPath("/")}}},[this.$store.getters.lan?r("span",[t._v("首页")]):r("span",[t._v("HOME")])]),t._v(" "),r("div",{staticClass:"side-bar-btn",class:t.user,on:{click:t.toProduction}},[this.$store.getters.lan?r("span",[t._v("我的分享")]):r("span",[t._v("PRODUCTION")])]),t._v(" "),r("div",{staticClass:"side-bar-btn",class:t.collection,on:{click:t.toCollection}},[this.$store.getters.lan?r("span",[t._v("我的收藏")]):r("span",[t._v("COLLECTION")])]),t._v(" "),r("div",{staticClass:"side-bar-btn",class:t.share,on:{click:t.sharePage}},[this.$store.getters.lan?r("span",[t._v("上传美食")]):r("span",[t._v("SHARE")])]),t._v(" "),r("div",{staticClass:"side-bar-btn",class:t.search,on:{click:function(e){return t.toPath("/search/tag/")}}},[this.$store.getters.lan?r("span",[t._v("搜索")]):r("span",[t._v("SEARCH")])]),t._v(" "),r("div",{staticClass:"side-bar-btn logout",on:{click:t.logout}},[this.$store.getters.lan?r("span",[t._v("注销")]):r("span",[t._v("LOGOUT")])])])],1)}),[],!1,null,"3a4b13ea",null);e.default=component.exports},376:function(t,e,r){"use strict";r.r(e);var n=r(44),o=r.n(n),c={methods:{confirmLogin:function(){1==confirm("Please login your account.")&&this.$router.push("/login")},toUserPage:function(){if(o.a.get("user")){var t=o.a.get("user").user_id;t&&this.$router.push("/user/".concat(t))}else this.confirmLogin()},share:function(){o.a.get("user")?this.$router.push("/share"):this.confirmLogin()}}},l=r(42),component=Object(l.a)(c,(function(){var t=this,e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"fixed bottom-0 w-screen h-16 md:hidden z-50 rounded-t-md shadow-md bg-white flex justify-around items-center"},[n("svg",{staticClass:"h-7 w-7 text-fontColordark",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:function(){t.$router.push("/")}}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}})]),e._v(" "),n("svg",{staticClass:"h-7 w-7 text-fontColordark",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:e.toUserPage}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}})]),e._v(" "),n("svg",{staticClass:"h-7 w-7 text-fontColordark",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:e.share}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"}})]),e._v(" "),n("svg",{staticClass:"h-7 w-7 text-fontColordark",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:function(){t.$router.push("/search/tag")}}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])])}),[],!1,null,"0808f54e",null);e.default=component.exports},378:function(t,e,r){"use strict";r.r(e);var n=r(6),o=(r(43),{data:function(){return{params:{},searchContent:""}},methods:{enter:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.searchContent),r={content:t.searchContent},e.next=4,t.$axios.get("/api/search",{params:r});case 4:n=e.sent,t.$store.commit("setSearchRes",n.data),console.log(n.data),"/search/result"!=t.$route.path&&t.$router.push("/search/result");case 8:case"end":return e.stop()}}),e)})))()}}}),c=r(42),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-10 w-5/6 mx-auto h-full relative "},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContent,expression:"searchContent"}],staticClass:"w-full h-10 self-center mx-auto rounded-3xl pl-14 md:pl-16 bg-barBgc md:w-full",attrs:{type:"text"},domProps:{value:t.searchContent},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)},input:function(e){e.target.composing||(t.searchContent=e.target.value)}}}),t._v(" "),r("svg",{staticClass:"h-5 w-5 absolute text-white top-2.5 self-center left-4 md:left-8",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"}})])])}),[],!1,null,"d98a80e4",null);e.default=component.exports},386:function(t,e,r){"use strict";r.r(e);var n=r(6),o=(r(43),{data:function(){return{cateLocation:[],tags:[]}},methods:{getTagOfCateLocation:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={searchTag:"cateLocation"},e.next=3,t.$axios.get("/api/tags",{params:r});case 3:n=e.sent,t.cateLocation=n.data;case 5:case"end":return e.stop()}}),e)})))()},getTagOfTags:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={searchTag:"tag"},e.next=3,t.$axios.get("/api/tags",{params:r});case 3:n=e.sent,t.tags=n.data;case 5:case"end":return e.stop()}}),e)})))()},searchClick:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={searchTag:e,content:t},n.next=3,r.$axios.get("/api/search",{params:o});case 3:c=n.sent,r.$store.commit("setSearchRes",c.data),r.$router.push("/search/result");case 6:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getTagOfCateLocation(),this.getTagOfTags()}}),c=r(42),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-tag font-fonts grid gap-y-12"},[r("div",{staticClass:"cate h-60 w-full overflow-hidden"},[r("h3",{staticClass:"font-medium text-lg pb-3"},[this.$store.getters.lan?r("span",[t._v("按地域或类别搜索：")]):r("span",[t._v("Search by category or location:")])]),t._v(" "),r("div",{staticClass:"flex flex-wrap justify-between mx-2"},t._l(t.cateLocation,(function(e,n){return""!=e[0]?r("div",{key:n,staticClass:"uppercase border-b-2 border-fontColordark mr-6 mb-2 cursor-pointer",on:{click:function(r){return t.searchClick(e[0],"catelocation")}}},[t._v("\n        "+t._s(e[0])+"\n      ")]):t._e()})),0)]),t._v(" "),r("div",{staticClass:"tag h-60 w-full overflow-hidden"},[r("h3",{staticClass:"font-medium text-lg pb-3"},[this.$store.getters.lan?r("span",[t._v("按标签搜索：")]):r("span",[t._v("Search by tag:")])]),t._v(" "),r("div",{staticClass:"flex flex-wrap justify-between mx-2"},t._l(t.tags,(function(e,n){return""!=e[0]?r("div",{key:n,staticClass:"uppercase border-b-2 border-fontColordark mr-6 mb-2 cursor-pointer",on:{click:function(r){return t.searchClick(e[0],"tag")}}},[t._v("\n        "+t._s(e[0])+"\n      ")]):t._e()})),0)])])}),[],!1,null,"14f8b52e",null);e.default=component.exports},418:function(t,e,r){"use strict";r.r(e);var n=r(376),o=r(378),c=r(367),l=r(386),h={components:{searchBar:o.default,SideBar:c.default,BottomBar:n.default,SearchTag:l.default}},f=r(42),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-background"},[r("div",{staticClass:"page"},[r("div",{staticClass:"left"},[r("side-bar")],1),t._v(" "),r("div",{staticClass:"right"},[r("div",{staticClass:"search-bar mt-10"},[r("search-bar")],1),t._v(" "),r("search-tag",{staticClass:"search-area mx-8 mt-5"})],1)]),t._v(" "),r("bottom-bar")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SearchTag:r(386).default})}}]);