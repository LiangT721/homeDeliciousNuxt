(window.webpackJsonp=window.webpackJsonp||[]).push([[14,20,21,22],{352:function(e,t,r){},355:function(e,t,r){"use strict";r.r(t);var n=r(6),o=(r(43),r(359),r(37),r(96),{components:{iconLoading:r(358).default},data:function(){return{name:"",if_loading:!1,date:this.$store.getters.Date,url:null}},props:{image_type:{type:String},image_url:{type:String},id:{type:Number}},methods:{onchange:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.if_loading=!0,n=e.target.files[0],t.name="".concat(t.date,"_").concat(t.image_type,"_").concat(n.name),(o=new FormData).set("file",n,t.name),r.next=7,t.$axios.$post("/api/upload",o,{headers:{"content-type":"multipart/form-data"}});case 7:""==r.sent&&(t.url="https://homedelicious.ml/img/uploadImgs/"+t.name,t.$emit("newImage",t.url,t.id),t.if_loading=!1);case 9:case"end":return r.stop()}}),r)})))()}}}),c=r(42),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"grid justify-items-center"},[e.if_loading?r("icon-loading"):r("input",{staticClass:"w-1/2",attrs:{type:"file",accept:"image/*"},on:{change:e.onchange}})],1)}),[],!1,null,"463eb198",null);t.default=component.exports},357:function(e,t,r){"use strict";r(352)},358:function(e,t,r){"use strict";r.r(t);var n={},o=(r(357),r(42)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lds-roller"},[r("div"),e._v(" "),r("div"),e._v(" "),r("div"),e._v(" "),r("div"),e._v(" "),r("div"),e._v(" "),r("div"),e._v(" "),r("div"),e._v(" "),r("div")])}],!1,null,"3079d279",null);t.default=component.exports},359:function(e,t,r){"use strict";var n=r(8),o=r(4),c=r(98),l=r(14),d=r(10),m=r(49),v=r(212),f=r(70),_=r(5),h=r(72),w=r(71).f,y=r(31).f,x=r(13).f,C=r(360).trim,N="Number",I=o.Number,$=I.prototype,E=m(h($))==N,k=function(e){var t,r,n,o,c,l,d,code,m=f(e,!1);if("string"==typeof m&&m.length>2)if(43===(t=(m=C(m)).charCodeAt(0))||45===t){if(88===(r=m.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(m.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+m}for(l=(c=m.slice(2)).length,d=0;d<l;d++)if((code=c.charCodeAt(d))<48||code>o)return NaN;return parseInt(c,n)}return+m};if(c(N,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var S,A=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof A&&(E?_((function(){$.valueOf.call(r)})):m(r)!=N)?v(new I(k(t)),r,A):k(t)},j=n?w(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;j.length>O;O++)d(I,S=j[O])&&!d(A,S)&&x(A,S,y(I,S));A.prototype=$,$.constructor=A,l(o,N,A)}},360:function(e,t,r){var n=r(18),o="["+r(361)+"]",c=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(c,"")),2&e&&(r=r.replace(l,"")),r}};e.exports={start:d(1),end:d(2),trim:d(3)}},361:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},364:function(e,t,r){"use strict";r.r(t);var n=r(6),o=(r(43),r(55),r(97),{data:function(){return{icon_class:""}},props:{image_type:{type:String},image_url:{type:String}},methods:{Delete:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.image_url.replace("https://homedelicious.ml/img/uploadImgs/",""),{image:r},t.next=4,e.$axios({url:"/api/upload",method:"delete",data:{image:r}}).then((function(){e.$emit("delete_res",!0)})).catch((function(){alert("delete not success")}));case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){switch(this.image_type){case"user":this.icon_class="rounded-round object-cover";break;case"image":this.icon_class="w-full h-full object-cover"}}}),c=r(42),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative"},[r("img",{class:e.icon_class,attrs:{src:e.image_url,alt:""}}),e._v(" "),r("svg",{staticClass:"h-5 w-5 top-0 right-0 absolute bg-gray-200 rounded-sm shadow-md cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},on:{click:e.Delete}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])])}),[],!1,null,"24a7c9c3",null);t.default=component.exports},399:function(e,t,r){"use strict";r.r(t);var n=r(6),o=(r(43),r(44)),c=r.n(o),l=r(355),d=r(364),m={components:{imageUpload:l.default,ImagePreview:d.default},data:function(){return{username:"",password:"",email:"",birthday:"",location:"",bio:"",icon:"",type_user:"user"}},props:{image_type:{type:String}},methods:{signUp:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios({url:"/api/users",method:"post",data:{username:e.username,password:e.password,email:e.email,birthday:e.birthday,location:e.location,bio:e.bio,icon:e.icon}}).then((function(t){console.log(t.data),e.user=t.data,c.a.set("user",t.data),c.a.set("token",t.data.token),e.$router.push("/")})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},back:function(){this.$emit("pop_up_false",!1)},newImage:function(data){this.icon=data,console.log(this.icon)},delete_res:function(data){switch(console.log(data),data){case!0:this.icon=null;break;case!1:alert("Delete falied")}}}},v=r(42),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-3/4 md:w-1/3 bg-white shadow-2xl py-10 text-center font-fonts rounded-md"},[r("h3",{staticClass:"mb-5 text-2xl uppercase"},[this.$store.getters.lan?r("span",[e._v("用户注册")]):r("span",[e._v("Sign Up")])]),e._v(" "),r("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?r("span",[e._v("用户名")]):r("span",[e._v("username")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),r("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?r("span",[e._v("密码")]):r("span",[e._v("password")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"border rounded-sm border-gray-600",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),r("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?r("span",[e._v("电子邮箱")]):r("span",[e._v("email")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),r("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?r("span",[e._v("生日")]):r("span",[e._v("birthday")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.birthday,expression:"birthday"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"date"},domProps:{value:e.birthday},on:{input:function(t){t.target.composing||(e.birthday=t.target.value)}}}),e._v(" "),r("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?r("span",[e._v("所在地")]):r("span",[e._v("location")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.location,expression:"location"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"text"},domProps:{value:e.location},on:{input:function(t){t.target.composing||(e.location=t.target.value)}}}),e._v(" "),r("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?r("span",[e._v("简介")]):r("span",[e._v("bio")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.bio,expression:"bio"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"text"},domProps:{value:e.bio},on:{input:function(t){t.target.composing||(e.bio=t.target.value)}}}),e._v(" "),r("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?r("span",[e._v("头像")]):r("span",[e._v("icon")])]),e._v(" "),r("image-upload",{staticClass:"mt-3",attrs:{image_type:e.type_user},on:{newImage:e.newImage}}),e._v(" "),e.icon?r("image-preview",{staticClass:"image-preview h-20 w-20 mx-auto relative pt-5",attrs:{image_url:e.icon,image_type:e.type_user},on:{delete_res:e.delete_res}}):e._e(),e._v(" "),r("div",{staticClass:"btn-area mt-10"},[r("button",{staticClass:"button",on:{click:e.signUp}},[this.$store.getters.lan?r("span",[e._v("注册")]):r("span",[e._v("SignUp")])]),e._v(" "),r("button",{staticClass:"button",on:{click:e.back}},[this.$store.getters.lan?r("span",[e._v("返回")]):r("span",[e._v("Back")])])])],1)}),[],!1,null,"1e639efe",null);t.default=component.exports}}]);