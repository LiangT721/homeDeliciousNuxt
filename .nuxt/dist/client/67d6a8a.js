(window.webpackJsonp=window.webpackJsonp||[]).push([[44,14,20,21,22],{352:function(t,e,n){},355:function(t,e,n){"use strict";n.r(e);var r=n(6),o=(n(43),n(359),n(37),n(96),{components:{iconLoading:n(358).default},data:function(){return{name:"",if_loading:!1,date:this.$store.getters.Date,url:null}},props:{image_type:{type:String},image_url:{type:String},id:{type:Number}},methods:{onchange:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.if_loading=!0,r=t.target.files[0],e.name="".concat(e.date,"_").concat(e.image_type,"_").concat(r.name),(o=new FormData).set("file",r,e.name),n.next=7,e.$axios.$post("/api/upload",o,{headers:{"content-type":"multipart/form-data"}});case 7:""==n.sent&&(e.url="https://homedelicious.ml/img/uploadImgs/"+e.name,e.$emit("newImage",e.url,e.id),e.if_loading=!1);case 9:case"end":return n.stop()}}),n)})))()}}}),l=n(42),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid justify-items-center"},[t.if_loading?n("icon-loading"):n("input",{staticClass:"w-1/2",attrs:{type:"file",accept:"image/*"},on:{change:t.onchange}})],1)}),[],!1,null,"463eb198",null);e.default=component.exports},357:function(t,e,n){"use strict";n(352)},358:function(t,e,n){"use strict";n.r(e);var r={},o=(n(357),n(42)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lds-roller"},[n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div")])}],!1,null,"3079d279",null);e.default=component.exports},359:function(t,e,n){"use strict";var r=n(8),o=n(4),l=n(98),c=n(14),d=n(10),m=n(49),v=n(212),_=n(70),f=n(5),h=n(72),w=n(71).f,x=n(31).f,y=n(13).f,C=n(360).trim,$="Number",k=o.Number,N=k.prototype,I=m(h(N))==$,E=function(t){var e,n,r,o,l,c,d,code,m=_(t,!1);if("string"==typeof m&&m.length>2)if(43===(e=(m=C(m)).charCodeAt(0))||45===e){if(88===(n=m.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(m.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+m}for(c=(l=m.slice(2)).length,d=0;d<c;d++)if((code=l.charCodeAt(d))<48||code>o)return NaN;return parseInt(l,r)}return+m};if(l($,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var S,j=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof j&&(I?f((function(){N.valueOf.call(n)})):m(n)!=$)?v(new k(E(e)),n,j):E(e)},O=r?w(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),P=0;O.length>P;P++)d(k,S=O[P])&&!d(j,S)&&y(j,S,x(k,S));j.prototype=N,N.constructor=j,c(o,$,j)}},360:function(t,e,n){var r=n(18),o="["+n(361)+"]",l=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),d=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(l,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},361:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},364:function(t,e,n){"use strict";n.r(e);var r=n(6),o=(n(43),n(55),n(97),{data:function(){return{icon_class:""}},props:{image_type:{type:String},image_url:{type:String}},methods:{Delete:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.image_url.replace("https://homedelicious.ml/img/uploadImgs/",""),{image:n},e.next=4,t.$axios({url:"/api/upload",method:"delete",data:{image:n}}).then((function(){t.$emit("delete_res",!0)})).catch((function(){alert("delete not success")}));case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){switch(this.image_type){case"user":this.icon_class="rounded-round object-cover";break;case"image":this.icon_class="w-full h-full object-cover"}}}),l=n(42),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative"},[n("img",{class:t.icon_class,attrs:{src:t.image_url,alt:""}}),t._v(" "),n("svg",{staticClass:"h-5 w-5 top-0 right-0 absolute bg-gray-200 rounded-sm shadow-md cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},on:{click:t.Delete}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])])}),[],!1,null,"24a7c9c3",null);e.default=component.exports},399:function(t,e,n){"use strict";n.r(e);var r=n(6),o=(n(43),n(44)),l=n.n(o),c=n(355),d=n(364),m={components:{imageUpload:c.default,ImagePreview:d.default},data:function(){return{username:"",password:"",email:"",birthday:"",location:"",bio:"",icon:"",type_user:"user"}},props:{image_type:{type:String}},methods:{signUp:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios({url:"/api/users",method:"post",data:{username:t.username,password:t.password,email:t.email,birthday:t.birthday,location:t.location,bio:t.bio,icon:t.icon}}).then((function(e){console.log(e.data),t.user=e.data,l.a.set("user",e.data),l.a.set("token",e.data.token),t.$router.push("/")})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},back:function(){this.$emit("pop_up_false",!1)},newImage:function(data){this.icon=data,console.log(this.icon)},delete_res:function(data){switch(console.log(data),data){case!0:this.icon=null;break;case!1:alert("Delete falied")}}}},v=n(42),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-3/4 md:w-1/3 bg-white shadow-2xl py-10 text-center font-fonts rounded-md"},[n("h3",{staticClass:"mb-5 text-2xl uppercase"},[this.$store.getters.lan?n("span",[t._v("用户注册")]):n("span",[t._v("Sign Up")])]),t._v(" "),n("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?n("span",[t._v("用户名")]):n("span",[t._v("username")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),n("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?n("span",[t._v("密码")]):n("span",[t._v("password")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"border rounded-sm border-gray-600",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?n("span",[t._v("电子邮箱")]):n("span",[t._v("email")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?n("span",[t._v("生日")]):n("span",[t._v("birthday")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.birthday,expression:"birthday"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"date"},domProps:{value:t.birthday},on:{input:function(e){e.target.composing||(t.birthday=e.target.value)}}}),t._v(" "),n("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?n("span",[t._v("所在地")]):n("span",[t._v("location")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"text"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}}),t._v(" "),n("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?n("span",[t._v("简介")]):n("span",[t._v("bio")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.bio,expression:"bio"}],staticClass:"border rounded-md border-gray-600",attrs:{type:"text"},domProps:{value:t.bio},on:{input:function(e){e.target.composing||(t.bio=e.target.value)}}}),t._v(" "),n("p",{staticClass:"capitalize mt-3"},[this.$store.getters.lan?n("span",[t._v("头像")]):n("span",[t._v("icon")])]),t._v(" "),n("image-upload",{staticClass:"mt-3",attrs:{image_type:t.type_user},on:{newImage:t.newImage}}),t._v(" "),t.icon?n("image-preview",{staticClass:"image-preview h-20 w-20 mx-auto relative pt-5",attrs:{image_url:t.icon,image_type:t.type_user},on:{delete_res:t.delete_res}}):t._e(),t._v(" "),n("div",{staticClass:"btn-area mt-10"},[n("button",{staticClass:"button",on:{click:t.signUp}},[this.$store.getters.lan?n("span",[t._v("注册")]):n("span",[t._v("SignUp")])]),t._v(" "),n("button",{staticClass:"button",on:{click:t.back}},[this.$store.getters.lan?n("span",[t._v("返回")]):n("span",[t._v("Back")])])])],1)}),[],!1,null,"1e639efe",null);e.default=component.exports},410:function(t,e,n){t.exports=n.p+"img/logo.294a429.png"},414:function(t,e,n){"use strict";n.r(e);var r=n(6),o=(n(43),n(44)),l=n.n(o),c={components:{signUp:n(399).default},data:function(){return{username:"",password:"",user:null,signup_pop_ups:!1}},computed:{lan:function(){return this.$store.getters.lan}},methods:{login:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data={username:t.username,password:t.password},e.next=3,t.$axios.$post("https://homedelicious.ml/api/login",data).catch((function(){alert("Username or Password is incorrect!")}));case 3:(n=e.sent)&&(console.log(n),l.a.set("token",n.token),l.a.set("user",n),t.$router.push("/"));case 5:case"end":return e.stop()}}),e)})))()},pop_up_false:function(){console.log(this.signup_pop_ups),this.signup_pop_ups=!1},back:function(){window.history.back()},homepage:function(){this.$router.push("/")}}},d=n(42),component=Object(d.a)(c,(function(){var t=this,e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"w-screen h-screen bg-primary grid justify-items-center content-center gap-y-10 relative"},[o("img",{staticClass:"w-1/3 md:w-1/6",attrs:{src:n(410),alt:""}}),e._v(" "),o("div",{staticClass:"login-windows mx-auto self-center"},[o("p",{staticClass:"reg-title uppercase text-xl"},[e._v("Login In")]),e._v(" "),o("br"),e._v(" "),o("p",{staticClass:"reg-title mt-2"},[e._v("username")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input mt-2",attrs:{type:"text",placeholder:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),o("p",{staticClass:"reg-title mt-2"},[e._v("password")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input mt-2",attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),o("div",{staticClass:"mt-3 btn flex justify-around"},[o("button",{staticClass:"button",on:{click:e.login}},[e._v("Login")]),e._v(" "),o("button",{staticClass:"button",on:{click:e.back}},[e._v("back")])]),e._v(" "),o("p",{staticClass:"other text-center mt-10"},[e._v("\n      or\n      "),o("span",{staticClass:"ml-2 cursor-pointer underline hover:text-fontColorlight",on:{click:function(){t.signup_pop_ups=!0}}},[e._v("Sign up")])]),e._v(" "),o("div",{staticClass:"enter absolute bottom-5 w-full left-0 text-center"},[e.lan?o("div",[e._v("\n        直接进入"),o("u",{staticClass:"cursor-pointer",on:{click:e.homepage}},[e._v("主页")])]):o("div",[e._v("\n        Go to the\n        "),o("u",{staticClass:"cursor-pointer",on:{click:e.homepage}},[e._v("homepage")]),e._v(" without login\n      ")])])]),e._v(" "),e.signup_pop_ups?o("div",{staticClass:"absolute w-full h-full flex"},[o("div",{staticClass:"sign-up-bg w-full h-full absolute z-10"}),e._v(" "),o("sign-up",{staticClass:"self-center mx-auto z-20",on:{pop_up_false:e.pop_up_false}})],1):e._e()])}),[],!1,null,"12575430",null);e.default=component.exports}}]);